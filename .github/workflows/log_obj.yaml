name: Log GitHub Stuff
on:
  - workflow_call
  - workflow_dispatch
  - pull_request
  - push
  - release
jobs:
  log_stuff:
    runs-on: ubuntu-latest
    steps:
      - name: Log Environment Variables
        if: always()
        continue-on-error: true
        run: |
          env | sort
      - name: Log GitHub Object
        if: always()
        continue-on-error: true
        run: |
          jq '.' <<<'${{ toJson(github) }}'
      - name: Log Other Objects
        if: always()
        continue-on-error: true
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        run: |-
          set +o errexit
          jq '.' <<<'${{toJSON(env)}}'
          jq '.' <<<'${{toJSON(vars)}}'
          jq '.' <<<'${{toJSON(job)}}'
          jq '.' <<<'${{toJSON(steps)}}'
          jq '.' <<<'${{toJSON(runner)}}'
          jq '.' <<<'${{toJSON(secrets)}}'
          jq '.' <<<'${{toJSON(needs)}}'
          jq '.' <<<'${{toJSON(inputs)}}'
